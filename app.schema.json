{
  "$schema":"http://json-schema.org/draft-07/schema#",
  "title":"UI and Business Logic Metamodel",
  "type":"object",
  "properties":{
     "ui":{
        "type":"object",
        "properties":{
           "pages":{
              "type":"array",
              "items":{
                 "type":"object",
                 "properties":{
                    "name":{
                       "type":"string"
                    },
                    "elements":{
                       "type":"array",
                       "items":{
                          "type":"object",
                          "properties":{
                             "type":{
                                "type":"string",
                                "enum":[
                                   "text",
                                   "image",
                                   "button",
                                   "input",
                                   "dropdown",
                                   "checkbox"
                                ]
                             },
                             "text":{
                                "type":"string"
                             },
                             "src":{
                                "type":"string"
                             },
                             "value":{
                                "type":"string"
                             },
                             "options":{
                                "type":"array",
                                "items":{
                                   "type":"string"
                                }
                             },
                             "onChange":{
                                "type":"object",
                                "properties":{
                                   "type":{
                                      "type":"string",
                                      "enum":[
                                         "function"
                                      ]
                                   },
                                   "value":{
                                      "type":"string"
                                   }
                                }
                             },
                             "style":{
                                "type":"object",
                                "properties":{
                                   "fontSize":{
                                      "type":"number"
                                   },
                                   "color":{
                                      "type":"string"
                                   },
                                   "align":{
                                      "type":"string",
                                      "enum":[
                                         "left",
                                         "center",
                                         "right"
                                      ]
                                   }
                                }
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "businessLogic":{
        "type":"object",
        "properties":{
           "functions":{
              "type":"array",
              "items":{
                 "type":"object",
                 "properties":{
                    "name":{
                       "type":"string"
                    },
                    "parameters":{
                       "type":"array",
                       "items":{
                          "type":"object",
                          "properties":{
                             "name":{
                                "type":"string"
                             },
                             "type":{
                                "type":"string",
                                "enum":[
                                   "string",
                                   "number",
                                   "boolean"
                                ]
                             }
                          }
                       }
                    },
                    "body":{
                       "type":"string",
                       "validation":{
                          "type":"array",
                          "items":{
                             "type":"object",
                             "properties":{
                                "parameter":{
                                   "type":"string"
                                },
                                "rules":{
                                   "type":"array",
                                   "items":{
                                      "type":"string"
                                   }
                                }
                             }
                          }
                       }
                    }
                 }
              },
              "components":{
                 "type":"array",
                 "items":{
                    "type":"object",
                    "properties":{
                       "name":{
                          "type":"string"
                       },
                       "template":{
                          "type":"string"
                       },
                       "props":{
                          "type":"array",
                          "items":{
                             "type":"object",
                             "properties":{
                                "name":{
                                   "type":"string"
                                },
                                "type":{
                                   "type":"string",
                                   "enum":[
                                      "string",
                                      "number",
                                      "boolean"
                                   ]
                                }
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "version":{
        "type":"string"
     }
  }
}
